
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<title>Facade.js - Drawing shapes, images and text in HTML5 canvas made easy.</title>
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" />
<style>

.hll{background-color:#ffc}.c{color:#998;font-style:italic}.err{color:#a61717;background-color:#e3d2d2}.k{color:#000;font-weight:700}.o{color:#000;font-weight:700}.cm{color:#998;font-style:italic}.cp{color:#999;font-weight:700;font-style:italic}.c1{color:#998;font-style:italic}.cs{color:#999;font-weight:700;font-style:italic}.gd{color:#000;background-color:#fdd}.ge{color:#000;font-style:italic}.gr{color:#a00}.gh{color:#999}.gi{color:#000;background-color:#dfd}.go{color:#888}.gp{color:#555}.gs{font-weight:700}.gu{color:#aaa}.gt{color:#a00}.kc{color:#000;font-weight:700}.kd{color:#000;font-weight:700}.kn{color:#000;font-weight:700}.kp{color:#000;font-weight:700}.kr{color:#000;font-weight:700}.kt{color:#458;font-weight:700}.m{color:#099}.s{color:#d01040}.na{color:teal}.nb{color:#0086B3}.nc{color:#458;font-weight:700}.no{color:teal}.nd{color:#3c5d5d;font-weight:700}.ni{color:purple}.ne{color:#900;font-weight:700}.nf{color:#900;font-weight:700}.nl{color:#900;font-weight:700}.nn{color:#555}.nt{color:navy}.nv{color:teal}.ow{color:#000;font-weight:700}.w{color:#bbb}.mf{color:#099}.mh{color:#099}.mi{color:#099}.mo{color:#099}.sb{color:#d01040}.sc{color:#d01040}.sd{color:#d01040}.s2{color:#d01040}.se{color:#d01040}.sh{color:#d01040}.si{color:#d01040}.sx{color:#d01040}.sr{color:#009926}.s1{color:#d01040}.ss{color:#990073}.bp{color:#999}.vc{color:teal}.vg{color:teal}.vi{color:teal}.il{color:#099}

@media (max-width: 992px) {

    .container {
        width: 970px !important;
        max-width: none !important;
    }
    .col-md-3 {
        width: 25% !important;
        float: left;
    }
    .col-md-9 {
        width: 75% !important;
        float: left;
    }

}

.method {
    margin-bottom: 40px;
}

.permalink {
    position: absolute;
    margin-left: -25px;
    font-weight: normal;
    color: #eee;
}

.permalink:hover {
    color: #666;
    text-decoration: none;
}

.bs-footer {
    margin: 50px auto;
    color: #777;
    text-align: center;
}

</style>
</head>

<body>



<style>

header {
    padding: 1em;
    font-size: 1.2em;
    line-height: 1em;
    color: #fff;
    background-color: #371F59;
    -webkit-font-smoothing: antialiased;
}

header a,
header a:hover {
    color: inherit;
}

</style>

<header>

    <a href="http://docs.facadejs.com/list">&larr; View all versions of documentation</a></i>

</header>




<div class="wrap">

    <div class="container">

        <div class="page-header">
            <div class="pull-right">
                <label><input type="checkbox" name="toggle-code" class="toggle-code-blocks" /> Toggle Code Blocks</label><br />
                <label><input type="checkbox" name="toggle-private" class="toggle-private" /> Toggle Private Methods/Function</label>
            </div>
            <h1>Facade.js <small>Drawing shapes, images and text in HTML5 canvas made easy.</small></h1>
        </div>

        <div class="row">

            <div class="col-md-3">

                <ul class="nav">

                

                <li class="scope-private"><a href="#isarray">isArray()</a></li>

                

                <li class="scope-public"><a href="#facade">Facade()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.addtostage">Facade.addToStage()</a></li>

                

                <li class="scope-private"><a href="#facade.prototype.animate">Facade._animate()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.clear">Facade.clear()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.draw">Facade.draw()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.exportbase64">Facade.exportBase64()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.height">Facade.height()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.start">Facade.start()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.stop">Facade.stop()</a></li>

                

                <li class="scope-public"><a href="#facade.prototype.width">Facade.width()</a></li>

                

                <li class="scope-private"><a href="#facade.entity">Facade.Entity()</a></li>

                

                <li class="scope-private"><a href="#facade.entity.prototype.defaultoptions">Facade.Entity._defaultOptions()</a></li>

                

                <li class="scope-private"><a href="#facade.entity.prototype.defaultmetrics">Facade.Entity._defaultMetrics()</a></li>

                

                <li class="scope-private"><a href="#facade.entity.prototype.setcontext">Facade.Entity._setContext()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.getoption">Facade.Entity.getOption()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.getalloptions">Facade.Entity.getAllOptions()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.setoptions">Facade.Entity.setOptions()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.getmetric">Facade.Entity.getMetric()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.getallmetrics">Facade.Entity.getAllMetrics()</a></li>

                

                <li class="scope-public"><a href="#facade.entity.prototype.isvisible">Facade.Entity.isVisible()</a></li>

                

                <li class="scope-private"><a href="#facade.entity.prototype.getanchorpoint">Facade.Entity._getAnchorPoint()</a></li>

                

                <li class="scope-private"><a href="#facade.entity.prototype.getrotatepoint">Facade.Entity._getRotatePoint()</a></li>

                

                <li class="scope-public"><a href="#facade.circle">Facade.Circle()</a></li>

                

                <li class="scope-private"><a href="#facade.circle.prototype.draw">Facade.Circle._draw()</a></li>

                

                <li class="scope-private"><a href="#facade.circle.prototype.setmetrics">Facade.Circle._setMetrics()</a></li>

                

                <li class="scope-public"><a href="#facade.image">Facade.Image()</a></li>

                

                <li class="scope-public"><a href="#facade.image.prototype.play">Facade.Image.play()</a></li>

                

                <li class="scope-public"><a href="#facade.image.prototype.pause">Facade.Image.pause()</a></li>

                

                <li class="scope-public"><a href="#facade.image.prototype.reset">Facade.Image.reset()</a></li>

                

                <li class="scope-public"><a href="#facade.image.prototype.stop">Facade.Image.stop()</a></li>

                

                <li class="scope-public"><a href="#facade.image.prototype.load">Facade.Image.load()</a></li>

                

                <li class="scope-private"><a href="#facade.image.prototype.draw">Facade.Image._draw()</a></li>

                

                <li class="scope-private"><a href="#facade.image.prototype.setmetrics">Facade.Image._setMetrics()</a></li>

                

                <li class="scope-public"><a href="#facade.line">Facade.Line()</a></li>

                

                <li class="scope-private"><a href="#facade.line.prototype.draw">Facade.Line._draw()</a></li>

                

                <li class="scope-private"><a href="#facade.line.prototype.setmetrics">Facade.Line._setMetrics()</a></li>

                

                <li class="scope-public"><a href="#facade.rect">Facade.Rect()</a></li>

                

                <li class="scope-private"><a href="#facade.rect.prototype.draw">Facade.Rect._draw()</a></li>

                

                <li class="scope-private"><a href="#facade.rect.prototype.setmetrics">Facade.Rect._setMetrics()</a></li>

                

                <li class="scope-public"><a href="#facade.text">Facade.Text()</a></li>

                

                <li class="scope-private"><a href="#facade.text.prototype.draw">Facade.Text._draw()</a></li>

                

                <li class="scope-private"><a href="#facade.text.prototype.setmetrics">Facade.Text._setMetrics()</a></li>

                

                </ul>

            </div>

            <div class="col-md-9">

                

                <div class="method scope-private">

                    <h2 id="isarray"><a href="#isarray" class="permalink">#</a>isArray() <span class="label label-default">private</span></h2>

                    <p>Checks an object to see if it is a JavaScript array. Returns a boolean result.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>obj</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The object to be checked.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">isArray</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]));</span> <span class="c1">// true</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">isArray</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}));</span> <span class="c1">// false</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="kd">function</span> <span class="nx">isArray</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">return</span> <span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="o">===</span> <span class="s1">&#39;[object Array]&#39;</span> <span class="o">?</span> <span class="kc">true</span> <span class="o">:</span> <span class="kc">false</span><span class="p">;</span>

<span class="p">}</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Boolean</code> Result of the test.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade"><a href="#facade" class="permalink">#</a>Facade() </h2>

                    <p>Creates a new Facade.js object with either a preexisting canvas tag or a unique name, width, and height.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>canvas</b>
                        <code>Object|String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Reference to an HTML canvas element or a unique name.</p>

                    

                    <p>
                        <b>width</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the canvas.</p>

                    

                    <p>
                        <b>height</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Height of the canvas.</p>

                    

                    

                    

                    <h3>Properties</h3>

                    

                    <p><b>canvas</b> <code>Object</code></p>
                    <p>Reference to the canvas element.</p>

                    

                    <p><b>context</b> <code>Object</code></p>
                    <p>Reference to the <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a> object.</p>

                    

                    <p><b>dt</b> <code>Integer</code></p>
                    <p>Current time in milliseconds since last canvas draw.</p>

                    

                    <p><b>fps</b> <code>Integer</code></p>
                    <p>Current frames per second.</p>

                    

                    <p><b>ftime</b> <code>Integer</code></p>
                    <p>Time of last canvas draw.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">stage</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;stage&#39;</span><span class="p">));</span>
<span class="kd">var</span> <span class="nx">stage</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">(</span><span class="s1">&#39;stage&#39;</span><span class="p">,</span> <span class="mi">500</span><span class="p">,</span> <span class="mi">300</span><span class="p">);</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="kd">function</span> <span class="nx">Facade</span><span class="p">(</span><span class="nx">canvas</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">(</span><span class="nx">canvas</span><span class="p">,</span> <span class="nx">width</span><span class="p">,</span> <span class="nx">height</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">canvas</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">canvas</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;canvas&#39;</span><span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">canvas</span> <span class="o">===</span> <span class="s1">&#39;string&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="nx">canvas</span><span class="p">);</span>

		<span class="p">}</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">width</span> <span class="o">&amp;&amp;</span> <span class="nx">height</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>
		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">height</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="k">try</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">getContext</span><span class="p">(</span><span class="s1">&#39;2d&#39;</span><span class="p">);</span>

	<span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Parameter passed to Facade.js is not a valid canvas element&#39;</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">dt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">fps</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_callback</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

<span class="p">}</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> New Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.addtostage"><a href="#facade.prototype.addtostage" class="permalink">#</a>Facade.addToStage() </h2>

                    <p>Draws a Facade.js object to the stage. Allows for temporary options to be use while drawing an object.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>obj</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js entity object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Temperary options.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">stage</span><span class="p">.</span><span class="nx">addToStage</span><span class="p">(</span><span class="nx">circle</span><span class="p">);</span>
<span class="nx">stage</span><span class="p">.</span><span class="nx">addToStage</span><span class="p">(</span><span class="nx">circle</span><span class="p">,</span> <span class="p">{</span> <span class="nx">scale</span><span class="o">:</span> <span class="mi">2</span> <span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">addToStage</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="nx">obj</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Parameter passed to Facade.addToStage is not a valid Facade.js entity object&#39;</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">options</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>
		<span class="nx">metrics</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="kc">true</span><span class="p">);</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="nx">options</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">();</span>
		<span class="nx">metrics</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">();</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">obj</span><span class="p">.</span><span class="nx">isVisible</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>

		<span class="nx">obj</span><span class="p">.</span><span class="nx">_draw</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span> <span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.prototype.animate"><a href="#facade.prototype.animate" class="permalink">#</a>Facade._animate() <span class="label label-default">private</span></h2>

                    <p>Method called by <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame" target="_blank">requestAnimationFrame</a>. Sets <code>Facade.dt</code> and <code>Facade.fps</code>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>time</b>
                        <code>Integer</code>
                        
                    </p>
                    <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMTimeStamp" target="_blank">DOMTimeStamp</a> or <a href="https://developer.mozilla.org/en-US/docs/Web/API/DOMHighResTimeStamp" target="_blank">DOMHighResTimeStamp</a> (Google Chrome Only)</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span> <span class="o">=</span> <span class="nx">_requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_animate</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_animate</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">time</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">_callback</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">ftime</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">dt</span> <span class="o">=</span> <span class="nx">time</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">ftime</span><span class="p">;</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">fps</span> <span class="o">=</span> <span class="p">(</span><span class="mi">1000</span> <span class="o">/</span> <span class="k">this</span><span class="p">.</span><span class="nx">dt</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

		<span class="p">}</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span> <span class="o">=</span> <span class="nx">_requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_animate</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">=</span> <span class="nx">time</span><span class="p">;</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">save</span><span class="p">();</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">);</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">restore</span><span class="p">();</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.clear"><a href="#facade.prototype.clear" class="permalink">#</a>Facade.clear() </h2>

                    <p>Clears the canvas.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">stage</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clear</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">context</span><span class="p">.</span><span class="nx">clearRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">width</span><span class="p">(),</span> <span class="k">this</span><span class="p">.</span><span class="nx">height</span><span class="p">());</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.draw"><a href="#facade.prototype.draw" class="permalink">#</a>Facade.draw() </h2>

                    <p>Sets a callback function to run in a loop using <a href="https://developer.mozilla.org/en-US/docs/Web/API/window.requestAnimationFrame" target="_blank">requestAnimationFrame</a>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>callback</b>
                        <code>Function</code>
                        
                    </p>
                    <p>Function callback.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">stage</span><span class="p">.</span><span class="nx">draw</span><span class="p">(</span><span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>

    <span class="k">this</span><span class="p">.</span><span class="nx">addToStage</span><span class="p">(</span><span class="nx">circle</span><span class="p">,</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">100</span> <span class="p">});</span>

<span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">callback</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">callback</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_callback</span> <span class="o">=</span> <span class="nx">callback</span><span class="p">;</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Parameter passed to Facade.draw is not a valid function&#39;</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.exportbase64"><a href="#facade.prototype.exportbase64" class="permalink">#</a>Facade.exportBase64() </h2>

                    <p>Exports a base64 encoded representation of the current rendered canvas.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>type</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Image format: <code>image/png</code> (Default), <code>image/jpeg</code>, <code>image/webp</code> (Google Chrome Only)</p>

                    

                    <p>
                        <b>quality</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Number between 0 and 100.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">exportBase64</span><span class="p">(</span><span class="s1">&#39;image/png&#39;</span><span class="p">,</span> <span class="mi">100</span><span class="p">));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">exportBase64</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">quality</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;image/png&#39;</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">quality</span> <span class="o">===</span> <span class="s1">&#39;number&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">quality</span> <span class="o">=</span> <span class="nx">quality</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="nx">quality</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">toDataURL</span><span class="p">(</span><span class="nx">type</span><span class="p">,</span> <span class="nx">quality</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>String</code> Base64 encoded string.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.height"><a href="#facade.prototype.height" class="permalink">#</a>Facade.height() </h2>

                    <p>Gets and sets the canvas height.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>height</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Height in pixels.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">());</span> <span class="c1">// 300</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">height</span><span class="p">(</span><span class="mi">600</span><span class="p">));</span> <span class="c1">// 600</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">height</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;height&#39;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">height</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Integer</code> Height in pixels.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.start"><a href="#facade.prototype.start" class="permalink">#</a>Facade.start() </h2>

                    <p>Starts the callback supplied in <code>Facade.draw</code>.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">stage</span><span class="p">.</span><span class="nx">start</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span> <span class="o">=</span> <span class="nx">_requestAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_animate</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">));</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.stop"><a href="#facade.prototype.stop" class="permalink">#</a>Facade.stop() </h2>

                    <p>Stops the callback supplied in <code>Facade.draw</code>.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">stage</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">dt</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">fps</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">=</span> <span class="kc">null</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span> <span class="o">=</span> <span class="nx">_cancelAnimationFrame</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_requestAnimation</span><span class="p">);</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.prototype.width"><a href="#facade.prototype.width" class="permalink">#</a>Facade.width() </h2>

                    <p>Gets and sets the canvas width.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>width</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width in pixels.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="p">());</span> <span class="c1">// 400</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">width</span><span class="p">(</span><span class="mi">800</span><span class="p">));</span> <span class="c1">// 800</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">width</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">width</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">,</span> <span class="nb">parseInt</span><span class="p">(</span><span class="nx">width</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Integer</code> Width in pixels.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity"><a href="#facade.entity" class="permalink">#</a>Facade.Entity() <span class="label label-default">private</span></h2>

                    <p>The constructor for all Facade.js shapes, images and text objects.</p>

                    

                    

                    

                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span> <span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p>False</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity.prototype.defaultoptions"><a href="#facade.entity.prototype.defaultoptions" class="permalink">#</a>Facade.Entity._defaultOptions() <span class="label label-default">private</span></h2>

                    <p>Returns a default set of options common to all Facade.js entities.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_defaultOptions</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">return</span> <span class="p">{</span>
		<span class="nx">x</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">y</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">shadowBlur</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">shadowColor</span><span class="o">:</span> <span class="s1">&#39;#000&#39;</span><span class="p">,</span>
		<span class="nx">shadowOffsetX</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">shadowOffsetY</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;top/left&#39;</span><span class="p">,</span>
		<span class="nx">opacity</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span>
		<span class="nx">flip</span><span class="o">:</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
		<span class="nx">rotate</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">scale</span><span class="o">:</span> <span class="mi">1</span>
	<span class="p">};</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Default set of options.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity.prototype.defaultmetrics"><a href="#facade.entity.prototype.defaultmetrics" class="permalink">#</a>Facade.Entity._defaultMetrics() <span class="label label-default">private</span></h2>

                    <p>Returns a default set of metrics common to all Facade.js entities.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_defaultMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">return</span> <span class="p">{</span>
		<span class="nx">x</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
		<span class="nx">y</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
		<span class="nx">width</span><span class="o">:</span> <span class="kc">null</span><span class="p">,</span>
		<span class="nx">height</span><span class="o">:</span> <span class="kc">null</span>
	<span class="p">};</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Default set of metrics.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity.prototype.setcontext"><a href="#facade.entity.prototype.setcontext" class="permalink">#</a>Facade.Entity._setContext() <span class="label label-default">private</span></h2>

                    <p>Sets options for a given <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a> object based on passed options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>context</b>
                        <code>Object</code>
                        
                    </p>
                    <p>A <a href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D" target="_blank">CanvasRenderingContext2D</a> object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>An options object based on <a href="#facade.entity.prototype.defaultoptions">Facade.Entity._defaultOptions()</a> and the extended key/value pairs through the custom options.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>A metrics object based on <a href="#facade.entity.prototype.defaultmetrics">Facade.Entity._defaultMetrics()</a> and the extended key/value pairs through the custom metrics.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setContext</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">rotate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getRotatePoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">),</span>
		<span class="nx">flip_horizontal</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">flip</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/horizontal/</span><span class="p">),</span>
		<span class="nx">flip_vertical</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">flip</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/vertical/</span><span class="p">);</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">rotate</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">rotate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">rotate</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">rotate</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">rotate</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="p">);</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="o">-</span><span class="nx">rotate</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="o">-</span><span class="nx">rotate</span><span class="p">[</span><span class="mi">1</span><span class="p">]);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">flip_horizontal</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">flip_vertical</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">translate</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">flip_horizontal</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">flip_vertical</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">scale</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">);</span>
	<span class="p">}</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">globalAlpha</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">opacity</span> <span class="o">/</span> <span class="mi">100</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineCap</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">lineCap</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineCap</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">;</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">strokeStyle</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">shadowBlur</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">shadowBlur</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">shadowBlur</span><span class="p">;</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">shadowColor</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">shadowColor</span><span class="p">;</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">shadowOffsetX</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">shadowOffsetX</span><span class="p">;</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">shadowOffsetY</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">shadowOffsetY</span><span class="p">;</span>
	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fontStyle</span><span class="p">)</span> <span class="p">{</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontStyle</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">+</span> <span class="s1">&#39;px &#39;</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontFamily</span><span class="p">;</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">textBaseline</span><span class="p">;</span>
	<span class="p">}</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.getoption"><a href="#facade.entity.prototype.getoption" class="permalink">#</a>Facade.Entity.getOption() </h2>

                    <p>Retrives the value of a given option. Only retrieves options set when creating a new Facade.js entity object or <a href="#facade.entity.prototype.setoptions"><code>setOptions</code></a> not through temperary options set through <a href="#facade.addtostage"><code>Facade.addToStage</code></a>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>key</b>
                        <code>String</code>
                        
                    </p>
                    <p>The name of the option.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">getOption</span><span class="p">(</span><span class="s1">&#39;value&#39;</span><span class="p">));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getOption</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Value of the option requested.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.getalloptions"><a href="#facade.entity.prototype.getalloptions" class="permalink">#</a>Facade.Entity.getAllOptions() </h2>

                    <p>Retrives the value of all options. Only retrieves options set when creating a new Facade.js entity object or <a href="#facade.entity.prototype.setoptions"><code>setOptions</code></a> not through temperary options set through <a href="#facade.addtostage"><code>Facade.addToStage</code></a>.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getAllOptions</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{},</span>
		<span class="nx">key</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

			<span class="nx">options</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

		<span class="p">}</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">options</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Object containing all options.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.setoptions"><a href="#facade.entity.prototype.setoptions" class="permalink">#</a>Facade.Entity.setOptions() </h2>

                    <p>Sets all options for a given object.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>updated</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to update. Does not need to be entire set of options.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                    </p>
                    <p>Flag to determine if options are to be saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">({</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Hello world!&#39;</span><span class="p">,</span> <span class="nx">fontFamily</span><span class="o">:</span> <span class="s1">&#39;Georgia&#39;</span> <span class="p">}));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setOptions</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">updated</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">options</span> <span class="o">=</span> <span class="p">{},</span>
		<span class="nx">key</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">updated</span> <span class="o">&amp;&amp;</span> <span class="nx">updated</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

				<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">===</span> <span class="k">typeof</span> <span class="nx">updated</span><span class="p">[</span><span class="nx">key</span><span class="p">])</span> <span class="p">{</span>

					<span class="nx">options</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">updated</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

					<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

						<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="nx">updated</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

					<span class="p">}</span>

				<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

					<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;The value for &#39;</span> <span class="o">+</span> <span class="nx">key</span> <span class="o">+</span> <span class="s1">&#39; was a &#39;</span> <span class="o">+</span> <span class="k">typeof</span> <span class="nx">updated</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">+</span> <span class="s1">&#39; not a &#39;</span> <span class="o">+</span> <span class="k">typeof</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>

				<span class="p">}</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

				<span class="nx">options</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

			<span class="p">}</span>

		<span class="p">}</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">options</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated options.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.getmetric"><a href="#facade.entity.prototype.getmetric" class="permalink">#</a>Facade.Entity.getMetric() </h2>

                    <p>Retrives the value of a given metric. Only retrieves metrics set when creating a new Facade.js entity object or <a href="#facade.entity.prototype.setoptions"><code>setOptions</code></a> not through temperary options set through <a href="#facade.addtostage"><code>Facade.addToStage</code></a>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>key</b>
                        <code>String</code>
                        
                    </p>
                    <p>The name of the metric.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">getMetric</span><span class="p">(</span><span class="s1">&#39;width&#39;</span><span class="p">));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getMetric</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Integer</code> Value of the metric requested.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.getallmetrics"><a href="#facade.entity.prototype.getallmetrics" class="permalink">#</a>Facade.Entity.getAllMetrics() </h2>

                    <p>Retrives the value of all metrics. Only retrieves metrics set when creating a new Facade.js entity object or <a href="#facade.entity.prototype.setoptions"><code>setOptions</code></a> not through temperary options set through <a href="#facade.addtostage"><code>Facade.addToStage</code></a>.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getAllMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="p">{},</span>
		<span class="nx">key</span><span class="p">;</span>

	<span class="k">for</span> <span class="p">(</span><span class="nx">key</span> <span class="k">in</span> <span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">(</span><span class="nx">key</span><span class="p">))</span> <span class="p">{</span>

			<span class="nx">metrics</span><span class="p">[</span><span class="nx">key</span><span class="p">]</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">[</span><span class="nx">key</span><span class="p">];</span>

		<span class="p">}</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Object containing all metrics.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.entity.prototype.isvisible"><a href="#facade.entity.prototype.isvisible" class="permalink">#</a>Facade.Entity.isVisible() </h2>

                    <p>Method used to test if an object is visible on a given canvas. Optional metrics parameter used to test an object with different metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>canvas</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object or canvas element.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Optional test metrics.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">box</span><span class="p">.</span><span class="nx">isVisible</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">canvas</span><span class="p">));</span>
<span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">box</span><span class="p">.</span><span class="nx">isVisible</span><span class="p">(</span><span class="nx">stage</span><span class="p">.</span><span class="nx">canvas</span><span class="p">,</span> <span class="p">{</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">200</span><span class="p">,</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">100</span> <span class="p">}));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">isVisible</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">canvas</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">canvas</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">canvas</span> <span class="o">=</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">canvas</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">canvas</span> <span class="o">&amp;&amp;</span> <span class="k">typeof</span> <span class="nx">canvas</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">metrics</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span><span class="p">;</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">width</span> <span class="o">&amp;&amp;</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">+</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">canvas</span><span class="p">.</span><span class="nx">height</span> <span class="o">&amp;&amp;</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">+</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">return</span> <span class="kc">true</span><span class="p">;</span>

		<span class="p">}</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Parameter passed to Facade.Entity.isVisible is not a valid canvas element&#39;</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="kc">false</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Boolean</code> Result of the test.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity.prototype.getanchorpoint"><a href="#facade.entity.prototype.getanchorpoint" class="permalink">#</a>Facade.Entity._getAnchorPoint() <span class="label label-default">private</span></h2>

                    <p>Gets the anchor point to draw an object at.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object options.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object metrics.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_getAnchorPoint</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">x</span><span class="p">,</span>
		<span class="nx">y</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">y</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^center/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">y</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^bottom/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">y</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">y</span> <span class="o">-</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/center$/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">x</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="p">(</span><span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/right$/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">x</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">x</span> <span class="o">-</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">];</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Array with x and y coordinates.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.entity.prototype.getrotatepoint"><a href="#facade.entity.prototype.getrotatepoint" class="permalink">#</a>Facade.Entity._getRotatePoint() <span class="label label-default">private</span></h2>

                    <p>Gets the anchor point to rotate an object at.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object options.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object metrics.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">rotate</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getRotatePoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Entity</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_getRotatePoint</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^center/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">y</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/^bottom/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">y</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/center$/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">x</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">anchor</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/right$/</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">x</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="p">[</span> <span class="nx">x</span><span class="p">,</span> <span class="nx">y</span> <span class="p">];</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Array with x and y coordinates.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.circle"><a href="#facade.circle" class="permalink">#</a>Facade.Circle() </h2>

                    <p>Create a circle object. Inherits all methods from <b>Facade.Entity</b>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Options to create the circle with.</p>

                    

                    

                    

                    

                    

                    <h3>Options</h3>

                    

                    <p>
                        <b>x</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>y</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowBlur</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Blur level for drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowColor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>shadowOffsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowOffsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>anchor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to anchor the object. <i>Default:</i> "top/left"<br><ul><li>center</li><li>center/right</li><li>bottom/right</li><li>bottom/center</li><li>bottom/left</li><li>center/left</li><li>top/left</li><li>top/center</li><li>top/right</li></ul></p>

                    

                    <p>
                        <b>opacity</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Opacity of the object. Integer between 0 and 100. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>flip</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Direction to flip the object. Can be either one or both of the following options. Delimited by a <code>/</code>. <i>Default:</i> ""<br><ul><li>horizontal</li><li>vertical</li></ul></p>

                    

                    <p>
                        <b>rotate</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degrees to rotate the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>scale</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Scaling of the object. A float starting at 1. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>radius</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Radius of the circle. <i>Default:</i> 10</p>

                    

                    <p>
                        <b>start</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degree at which the circle begins. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>end</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degree at which the circle ends. <i>Default:</i> 360</p>

                    

                    <p>
                        <b>counterclockwise</b>
                        <code>Boolean</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Determines if the circle will be drawn in a counter clockwise direction. <i>Default:</i> false</p>

                    

                    <p>
                        <b>fillStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Fill color for the object. <i>Default:</i> "#000"</p>

                    

                    <p>
                        <b>strokeStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Color of an object's stroke. <i>Default:</i> "#000"</p>

                    

                    <p>
                        <b>strokePosition</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to draw the stroke. <i>Default:</i> "default"</p>

                    

                    <p>
                        <b>lineWidth</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the stroke. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>lineCap</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>The style of line cap (end of line). <i>Default:</i> "butt"<br><ul><li>butt</li><li>round</li><li>square</li></ul></p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">circle</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">radius</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;center&#39;</span> <span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">();</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">();</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">=</span> <span class="mi">10</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">start</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">end</span> <span class="o">=</span> <span class="mi">360</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">counterclockwise</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineCap</span> <span class="o">=</span> <span class="s1">&#39;butt&#39;</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the new Facade.js circle object.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.circle.prototype.draw"><a href="#facade.circle.prototype.draw" class="permalink">#</a>Facade.Circle._draw() <span class="label label-default">private</span></h2>

                    <p>Renders the circle on the specified Facade.js canvas with the custom options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>facade</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to render the circle with.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The metrics to render the circle with.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">circle</span><span class="p">.</span><span class="nx">_draw</span><span class="p">(</span><span class="nx">stage</span><span class="p">,</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">(),</span> <span class="nx">circle</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span>
		<span class="nx">strokeOffset</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
		<span class="mi">0</span><span class="p">,</span>
		<span class="mi">0</span><span class="p">,</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">radius</span><span class="p">,</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">start</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="p">,</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">end</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="p">,</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">counterclockwise</span>
	<span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span><span class="p">.</span><span class="nx">match</span><span class="p">(</span><span class="sr">/(in|out)set/</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;inset&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">strokeOffset</span> <span class="o">=</span> <span class="o">-</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;outset&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">strokeOffset</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">);</span>

		<span class="p">}</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>
		<span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
			<span class="mi">0</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">strokeOffset</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">start</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">end</span> <span class="o">*</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">/</span> <span class="mi">180</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">counterclockwise</span>
		<span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

	<span class="p">}</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.circle.prototype.setmetrics"><a href="#facade.circle.prototype.setmetrics" class="permalink">#</a>Facade.Circle._setMetrics() <span class="label label-default">private</span></h2>

                    <p>Sets the metrics of the circle based on supplied options.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to set the metrics with.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Flag to determine if metrics are saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">circle</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">()));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Circle</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">(),</span>
		<span class="nx">anchor</span><span class="p">,</span>
		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;default&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;outset&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">strokeWidth</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">strokeWidth</span><span class="p">)</span> <span class="o">*</span> <span class="mi">2</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>

	<span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">strokeWidth</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">);</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">((</span><span class="nx">options</span><span class="p">.</span><span class="nx">radius</span> <span class="o">+</span> <span class="nx">strokeWidth</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated metrics.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image"><a href="#facade.image" class="permalink">#</a>Facade.Image() </h2>

                    <p>Create an image object. Inherits all methods from <b>Facade.Entity</b>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>source</b>
                        <code>Object|String</code>
                        
                    </p>
                    <p>Local image file or reference to an HTML image tag.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Options to create the image with.</p>

                    

                    

                    

                    <h3>Properties</h3>

                    

                    <p><b>image</b> <code>Object</code></p>
                    <p>Reference to the image element.</p>

                    

                    <p><b>currentFrame</b> <code>Integer</code></p>
                    <p>Current frame of sprite animation.</p>

                    

                    <p><b>isAnimating</b> <code>Boolean</code></p>
                    <p>Boolean state of sprite animation.</p>

                    

                    

                    

                    

                    <h3>Options</h3>

                    

                    <p>
                        <b>x</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>y</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowBlur</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Blur level for drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowColor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>shadowOffsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowOffsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>anchor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to anchor the object. <i>Default:</i> "top/left"<br><ul><li>center</li><li>center/right</li><li>bottom/right</li><li>bottom/center</li><li>bottom/left</li><li>center/left</li><li>top/left</li><li>top/center</li><li>top/right</li></ul></p>

                    

                    <p>
                        <b>opacity</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Opacity of the object. Integer between 0 and 100. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>flip</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Direction to flip the object. Can be either one or both of the following options. Delimited by a <code>/</code>. <i>Default:</i> ""<br><ul><li>horizontal</li><li>vertical</li></ul></p>

                    

                    <p>
                        <b>rotate</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degrees to rotate the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>scale</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Scaling of the object. A float starting at 1. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>width</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>height</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Height of the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>offsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate within the image where rendering begins. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>offsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate within the image where rendering begins. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>tileX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Number of times to tile the image horizontally. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>tileY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Number of times to tile the image vertically. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>frames</b>
                        <code>Array</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Array of frames for sprite animation. <i>Default:</i> []</p>

                    

                    <p>
                        <b>speed</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Speed of sprite animation. <i>Default:</i> 120</p>

                    

                    <p>
                        <b>loop</b>
                        <code>Boolean</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Determines if the animation should loop. <i>Default:</i> true</p>

                    

                    <p>
                        <b>callback</b>
                        <code>Function</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Function called for every frame of a sprite animation. <i>Default:</i> `function (frame) { };`</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">image</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="s1">&#39;images/player.png&#39;</span><span class="p">,</span> <span class="p">{</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">50</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">90</span><span class="p">,</span> <span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;bottom/center&#39;</span> <span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">source</span> <span class="o">===</span> <span class="s1">&#39;undefined&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">&#39;Required parameter &quot;source&quot; missing from Facade.Image call&#39;</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">(</span><span class="nx">source</span><span class="p">,</span> <span class="nx">options</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">();</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">();</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">offsetX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">offsetY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">tileX</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">tileY</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">frames</span> <span class="o">=</span> <span class="p">[];</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">speed</span> <span class="o">=</span> <span class="mi">120</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">loop</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">callback</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">frame</span><span class="p">)</span> <span class="p">{</span> <span class="p">};</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">image</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nx">source</span><span class="p">);</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the new Facade.js image object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image.prototype.play"><a href="#facade.image.prototype.play" class="permalink">#</a>Facade.Image.play() </h2>

                    <p>Starts an image sprite animation.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">play</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">play</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js image object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image.prototype.pause"><a href="#facade.image.prototype.pause" class="permalink">#</a>Facade.Image.pause() </h2>

                    <p>Pauses an image sprite animation.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">pause</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">pause</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js image object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image.prototype.reset"><a href="#facade.image.prototype.reset" class="permalink">#</a>Facade.Image.reset() </h2>

                    <p>Resets an image sprite animation.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">reset</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js image object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image.prototype.stop"><a href="#facade.image.prototype.stop" class="permalink">#</a>Facade.Image.stop() </h2>

                    <p>Stops and resets an image sprite animation.</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">stop</span><span class="p">();</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">stop</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

	<span class="k">return</span> <span class="k">this</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Facade.js image object.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.image.prototype.load"><a href="#facade.image.prototype.load" class="permalink">#</a>Facade.Image.load() </h2>

                    <p>Loads an image into a Facade.js image object.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>source</b>
                        <code>Object|String</code>
                        
                    </p>
                    <p>Local image file or reference to an HTML image element.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="s1">&#39;image/tiles.png&#39;</span><span class="p">);</span>
<span class="nx">image</span><span class="p">.</span><span class="nx">load</span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;avatar&#39;</span><span class="p">));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">load</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">source</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">image</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">source</span> <span class="o">===</span> <span class="s1">&#39;object&#39;</span> <span class="o">&amp;&amp;</span> <span class="nx">source</span><span class="p">.</span><span class="nx">nodeType</span> <span class="o">===</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">image</span> <span class="o">=</span> <span class="nx">source</span><span class="p">;</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">);</span>

		<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

			<span class="nx">image</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">));</span>

		<span class="p">}</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="nx">image</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;img&#39;</span><span class="p">);</span>
		<span class="nx">image</span><span class="p">.</span><span class="nx">setAttribute</span><span class="p">(</span><span class="s1">&#39;src&#39;</span><span class="p">,</span> <span class="nx">source</span><span class="p">);</span>
		<span class="nx">image</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;load&#39;</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">.</span><span class="nx">bind</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">));</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">image</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the HTML image element.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.image.prototype.draw"><a href="#facade.image.prototype.draw" class="permalink">#</a>Facade.Image._draw() <span class="label label-default">private</span></h2>

                    <p>Renders the image on the specified Facade.js canvas with the custom options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>facade</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to render the image with.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The metrics to render the image with.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">image</span><span class="p">.</span><span class="nx">_draw</span><span class="p">(</span><span class="nx">stage</span><span class="p">,</span> <span class="nx">image</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">(),</span> <span class="nx">image</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span>
		<span class="nx">currentOffsetX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">currentOffsetX</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span><span class="p">]</span> <span class="o">||</span> <span class="mi">0</span><span class="p">;</span>

		<span class="p">}</span>

		<span class="k">for</span> <span class="p">(</span><span class="nx">x</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">x</span> <span class="o">&lt;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">tileX</span><span class="p">;</span> <span class="nx">x</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">for</span> <span class="p">(</span><span class="nx">y</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">y</span> <span class="o">&lt;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">tileY</span><span class="p">;</span> <span class="nx">y</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

				<span class="nx">context</span><span class="p">.</span><span class="nx">drawImage</span><span class="p">(</span>
					<span class="k">this</span><span class="p">.</span><span class="nx">image</span><span class="p">,</span>
					<span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">currentOffsetX</span><span class="p">)</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">offsetX</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">offsetY</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">height</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">x</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">*</span> <span class="nx">y</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span>
					<span class="nx">options</span><span class="p">.</span><span class="nx">height</span>
				<span class="p">);</span>

			<span class="p">}</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">&amp;&amp;</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="k">this</span><span class="p">.</span><span class="nx">ftime</span><span class="p">)</span> <span class="p">{</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">ftime</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callback</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>

					<span class="nx">options</span><span class="p">.</span><span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span><span class="p">]);</span>

				<span class="p">}</span>

			<span class="p">}</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">facade</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">-</span> <span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">&gt;=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">speed</span><span class="p">)</span> <span class="p">{</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">ftime</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">ftime</span><span class="p">;</span>

				<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">;</span>

				<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">&gt;=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>

					<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">loop</span><span class="p">)</span> <span class="p">{</span>

						<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

					<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

						<span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>

						<span class="k">this</span><span class="p">.</span><span class="nx">isAnimating</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>

					<span class="p">}</span>

				<span class="p">}</span>

				<span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">options</span><span class="p">.</span><span class="nx">callback</span> <span class="o">===</span> <span class="s1">&#39;function&#39;</span><span class="p">)</span> <span class="p">{</span>

					<span class="nx">options</span><span class="p">.</span><span class="nx">callback</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">frames</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">currentFrame</span><span class="p">]);</span>

				<span class="p">}</span>

			<span class="p">}</span>

		<span class="p">}</span>

	<span class="p">}</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.image.prototype.setmetrics"><a href="#facade.image.prototype.setmetrics" class="permalink">#</a>Facade.Image._setMetrics() <span class="label label-default">private</span></h2>

                    <p>Sets the metrics of the image based on supplied options.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to set the metrics with.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                    </p>
                    <p>Flag to determine if metrics are saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">image</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">()));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Image</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">(),</span>
		<span class="nx">anchor</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">complete</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">width</span><span class="p">;</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">||</span> <span class="k">this</span><span class="p">.</span><span class="nx">image</span><span class="p">.</span><span class="nx">height</span><span class="p">;</span>

		<span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">tileX</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>
		<span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">tileY</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>

		<span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

		<span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
		<span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">;</span>

		<span class="p">}</span>

		<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="p">}</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated metrics.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.line"><a href="#facade.line" class="permalink">#</a>Facade.Line() </h2>

                    <p>Create a line object. Inherits all methods from <b>Facade.Entity</b>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to create the line with.</p>

                    

                    

                    

                    

                    

                    <h3>Options</h3>

                    

                    <p>
                        <b>x</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>y</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowBlur</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Blur level for drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowColor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>shadowOffsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowOffsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>anchor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to anchor the object. <i>Default:</i> "top/left"<br><ul><li>center</li><li>center/right</li><li>bottom/right</li><li>bottom/center</li><li>bottom/left</li><li>center/left</li><li>top/left</li><li>top/center</li><li>top/right</li></ul></p>

                    

                    <p>
                        <b>opacity</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Opacity of the object. Integer between 0 and 100. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>flip</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Direction to flip the object. Can be either one or both of the following options. Delimited by a <code>/</code>. <i>Default:</i> ""<br><ul><li>horizontal</li><li>vertical</li></ul></p>

                    

                    <p>
                        <b>rotate</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degrees to rotate the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>scale</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Scaling of the object. A float starting at 1. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>startX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate where line starts. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>startY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate where line starts. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>endX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate where line ends. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>endY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate where line ends. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>strokeStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Color of an object's stroke. <i>Default:</i> "#000"</p>

                    

                    <p>
                        <b>lineWidth</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the stroke. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>lineCap</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>The style of line cap (end of line). <i>Default:</i> "butt"<br><ul><li>butt</li><li>round</li><li>square</li></ul></p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">line</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span><span class="p">({</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">startX</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">startY</span><span class="o">:</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">endX</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">endY</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">lineWidth</span><span class="o">:</span> <span class="mi">1</span><span class="p">,</span> <span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;center&#39;</span> <span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">();</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">();</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">startX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">startY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">endX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">endY</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineCap</span> <span class="o">=</span> <span class="s1">&#39;butt&#39;</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the new Facade.js line object.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.line.prototype.draw"><a href="#facade.line.prototype.draw" class="permalink">#</a>Facade.Line._draw() <span class="label label-default">private</span></h2>

                    <p>Renders the line on the specified Facade.js canvas with the custom options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>facade</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to render the line with.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The metrics to render the line with.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">line</span><span class="p">.</span><span class="nx">_draw</span><span class="p">(</span><span class="nx">stage</span><span class="p">,</span> <span class="nx">line</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">(),</span> <span class="nx">line</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">context</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
	<span class="nx">context</span><span class="p">.</span><span class="nx">lineTo</span><span class="p">(</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">endX</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startX</span><span class="p">,</span>
		<span class="nx">options</span><span class="p">.</span><span class="nx">endY</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startY</span>
	<span class="p">);</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.line.prototype.setmetrics"><a href="#facade.line.prototype.setmetrics" class="permalink">#</a>Facade.Line._setMetrics() <span class="label label-default">private</span></h2>

                    <p>Sets the metrics of the line based on supplied options.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to set the metrics with.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Flag to determine if metrics are saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">line</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">line</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">()));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Line</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">(),</span>
		<span class="nx">anchor</span><span class="p">;</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">endX</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startX</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">abs</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">endY</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">startY</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>

	<span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated metrics.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.rect"><a href="#facade.rect" class="permalink">#</a>Facade.Rect() </h2>

                    <p>Create a rectangle object. Inherits all methods from <b>Facade.Entity</b>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to create the rectangle with.</p>

                    

                    

                    

                    

                    

                    <h3>Options</h3>

                    

                    <p>
                        <b>x</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>y</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowBlur</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Blur level for drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowColor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>shadowOffsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowOffsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>anchor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to anchor the object. <i>Default:</i> "top/left"<br><ul><li>center</li><li>center/right</li><li>bottom/right</li><li>bottom/center</li><li>bottom/left</li><li>center/left</li><li>top/left</li><li>top/center</li><li>top/right</li></ul></p>

                    

                    <p>
                        <b>opacity</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Opacity of the object. Integer between 0 and 100. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>flip</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Direction to flip the object. Can be either one or both of the following options. Delimited by a <code>/</code>. <i>Default:</i> ""<br><ul><li>horizontal</li><li>vertical</li></ul></p>

                    

                    <p>
                        <b>rotate</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degrees to rotate the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>scale</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Scaling of the object. A float starting at 1. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>width</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the object. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>height</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Height of the object. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>fillStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Fill color for the object. <i>Default:</i> "#000"</p>

                    

                    <p>
                        <b>strokeStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Color of an object's stroke. <i>Default:</i> "#000"</p>

                    

                    <p>
                        <b>strokePosition</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to draw the stroke. <i>Default:</i> "default"</p>

                    

                    <p>
                        <b>lineWidth</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the stroke. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>borderRadius</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Radius of the rectangle's corners. <i>Default:</i> 0</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">rect</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span><span class="p">({</span> <span class="nx">width</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">height</span><span class="o">:</span> <span class="mi">100</span><span class="p">,</span> <span class="nx">fillStyle</span><span class="o">:</span> <span class="err">&#39;</span><span class="cp">#f</span><span class="mo">00</span><span class="s">&#39; });</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">();</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">();</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="mi">100</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">=</span> <span class="s1">&#39;default&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">borderRadius</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the new Facade.js rectangle object.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.rect.prototype.draw"><a href="#facade.rect.prototype.draw" class="permalink">#</a>Facade.Rect._draw() <span class="label label-default">private</span></h2>

                    <p>Renders the rectangle on the specified Facade.js canvas with the custom options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>facade</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to render the rectangle with.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The metrics to render the rectangle with.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">rect</span><span class="p">.</span><span class="nx">_draw</span><span class="p">(</span><span class="nx">stage</span><span class="p">,</span> <span class="nx">rect</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">(),</span> <span class="nx">rect</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span>
		<span class="nx">borderRadius</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">beginPath</span><span class="p">();</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">borderRadius</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">borderRadius</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">min</span><span class="p">(</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">/</span> <span class="mi">2</span>
		<span class="p">);</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">moveTo</span><span class="p">(</span><span class="nx">borderRadius</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span><span class="p">,</span>
			<span class="mi">0</span>
		<span class="p">);</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="mi">0</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">0.5</span>
		<span class="p">);</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">0.5</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span>
		<span class="p">);</span>

		<span class="nx">context</span><span class="p">.</span><span class="nx">arc</span><span class="p">(</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nx">borderRadius</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span><span class="p">,</span>
			<span class="nb">Math</span><span class="p">.</span><span class="nx">PI</span> <span class="o">*</span> <span class="mf">1.5</span>
		<span class="p">);</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span><span class="p">.</span><span class="nx">fill</span><span class="p">();</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span><span class="p">.</span><span class="nx">stroke</span><span class="p">();</span>

		<span class="p">}</span>

	<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span><span class="p">.</span><span class="nx">fillRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>

			<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;inset&#39;</span><span class="p">)</span> <span class="p">{</span>

				<span class="nx">context</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">-</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">);</span>

			<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;outset&#39;</span><span class="p">)</span> <span class="p">{</span>

				<span class="nx">context</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="o">-</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="o">-</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">);</span>

			<span class="p">}</span> <span class="k">else</span> <span class="p">{</span>

				<span class="nx">context</span><span class="p">.</span><span class="nx">strokeRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">options</span><span class="p">.</span><span class="nx">height</span><span class="p">);</span>

			<span class="p">}</span>

		<span class="p">}</span>

	<span class="p">}</span>

	<span class="nx">context</span><span class="p">.</span><span class="nx">closePath</span><span class="p">();</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.rect.prototype.setmetrics"><a href="#facade.rect.prototype.setmetrics" class="permalink">#</a>Facade.Rect._setMetrics() <span class="label label-default">private</span></h2>

                    <p>Sets the metrics of the rectangle based on supplied options.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to set the metrics with.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                    </p>
                    <p>Flag to determine if metrics are saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">rect</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">rect</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">()));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Rect</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">(),</span>
		<span class="nx">anchor</span><span class="p">,</span>
		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;default&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

	<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">strokePosition</span> <span class="o">===</span> <span class="s1">&#39;outset&#39;</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">strokeWidth</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">+</span> <span class="p">(</span><span class="nx">strokeWidth</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">height</span> <span class="o">+</span> <span class="p">(</span><span class="nx">strokeWidth</span> <span class="o">*</span> <span class="mi">2</span><span class="p">))</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>

	<span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="nx">strokeWidth</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">);</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="p">(</span><span class="nx">strokeWidth</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated metrics.</p>

                </div>

                

                <div class="method scope-public">

                    <h2 id="facade.text"><a href="#facade.text" class="permalink">#</a>Facade.Text() </h2>

                    <p>Create a text object. Inherits all methods from <b>Facade.Entity</b>.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to create the text with.</p>

                    

                    

                    

                    

                    

                    <h3>Options</h3>

                    

                    <p>
                        <b>x</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>y</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y coordinate to begin drawing an object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowBlur</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Blur level for drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowColor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>shadowOffsetX</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>X offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>shadowOffsetY</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Y offset of drop shadow. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>anchor</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Position to anchor the object. <i>Default:</i> "top/left"<br><ul><li>center</li><li>center/right</li><li>bottom/right</li><li>bottom/center</li><li>bottom/left</li><li>center/left</li><li>top/left</li><li>top/center</li><li>top/right</li></ul></p>

                    

                    <p>
                        <b>opacity</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Opacity of the object. Integer between 0 and 100. <i>Default:</i> 100</p>

                    

                    <p>
                        <b>flip</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Direction to flip the object. Can be either one or both of the following options. Delimited by a <code>/</code>. <i>Default:</i> ""<br><ul><li>horizontal</li><li>vertical</li></ul></p>

                    

                    <p>
                        <b>rotate</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Degrees to rotate the object. <i>Default:</i> 0</p>

                    

                    <p>
                        <b>scale</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Scaling of the object. A float starting at 1. <i>Default:</i> 1</p>

                    

                    <p>
                        <b>width</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the object.</p>

                    

                    <p>
                        <b>value</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Value of the text object.</p>

                    

                    <p>
                        <b>fontFamily</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Sets the font family of the text. Only one font can be specified at a time. <i>Default:</i> "Arial"</p>

                    

                    <p>
                        <b>fontSize</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Font size in pixels. <i>Default:</i> 30</p>

                    

                    <p>
                        <b>fontStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Font style of the text. <i>Default:</i> "normal"<br><ul><li>normal</li><li>bold</li><li>italic</li></ul></p>

                    

                    <p>
                        <b>lineHeight</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Line height of the text drawn on multiple lines. New lines are delimited with <code>\n</code>. <i>Default:</i> Inherits from <code>fontSize</code></p>

                    

                    <p>
                        <b>textAlign</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Horizontal alignment of the text. <i>Default:</i> "left"<br><ul><li>left</li><li>center</li><li>right</li></ul></p>

                    

                    <p>
                        <b>textBaseline</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Baseline to set the vertical alignment of the text drawn. <i>Default:</i> "top"<br><ul><li>top</li><li>hanging</li><li>middle</li><li>alphabetic</li><li>ideographic</li><li>bottom</li></ul></p>

                    

                    <p>
                        <b>fillStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Fill color for the object. Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>strokeStyle</b>
                        <code>String</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Color of an object's stroke. Can be a text representation of a color, a HEX value or RBG(A). <i>Default:</i> "#000"<br><ul><li>red</li><li>#F00</li><li>rgb(255, 0, 0);</li><li>rgba(255, 0, 0, 1);</li></ul></p>

                    

                    <p>
                        <b>lineWidth</b>
                        <code>Integer</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Width of the stroke. <i>Default:</i> 0</p>

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="kd">var</span> <span class="nx">text</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span><span class="p">({</span> <span class="nx">value</span><span class="o">:</span> <span class="s1">&#39;Hello World!&#39;</span><span class="p">,</span> <span class="nx">x</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">y</span><span class="o">:</span> <span class="mi">250</span><span class="p">,</span> <span class="nx">anchor</span><span class="o">:</span> <span class="s1">&#39;center&#39;</span> <span class="p">});</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">)</span> <span class="p">{</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="p">(</span><span class="k">this</span> <span class="k">instanceof</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span><span class="p">))</span> <span class="p">{</span>

		<span class="k">return</span> <span class="k">new</span> <span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultOptions</span><span class="p">();</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_defaultMetrics</span><span class="p">();</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fontFamily</span> <span class="o">=</span> <span class="s1">&#39;Arial&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fontStyle</span> <span class="o">=</span> <span class="s1">&#39;normal&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">=</span> <span class="s1">&#39;left&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">textBaseline</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">fillStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">strokeStyle</span> <span class="o">=</span> <span class="s1">&#39;#000&#39;</span><span class="p">;</span>
	<span class="k">this</span><span class="p">.</span><span class="nx">_options</span><span class="p">.</span><span class="nx">lineWidth</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">setOptions</span><span class="p">(</span><span class="nx">options</span><span class="p">);</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Reference to the new Facade.js text object.</p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.text.prototype.draw"><a href="#facade.text.prototype.draw" class="permalink">#</a>Facade.Text._draw() <span class="label label-default">private</span></h2>

                    <p>Renders the text on the specified Facade.js canvas with the custom options and metrics.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>facade</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Facade.js object.</p>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The options to render the text with.</p>

                    

                    <p>
                        <b>metrics</b>
                        <code>Object</code>
                        
                    </p>
                    <p>The metrics to render the text with.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">text</span><span class="p">.</span><span class="nx">_draw</span><span class="p">(</span><span class="nx">stage</span><span class="p">,</span> <span class="nx">text</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">(),</span> <span class="nx">text</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">());</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_draw</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">facade</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">context</span> <span class="o">=</span> <span class="nx">facade</span><span class="p">.</span><span class="nx">context</span><span class="p">,</span>
		<span class="nx">offsetX</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span>
		<span class="nx">line</span><span class="p">,</span>
		<span class="nx">length</span><span class="p">;</span>

	<span class="k">this</span><span class="p">.</span><span class="nx">_setContext</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/[ ]*\n[ ]*/</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontSize</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="nx">line</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">line</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">line</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">===</span> <span class="s1">&#39;center&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">offsetX</span> <span class="o">=</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">context</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="nx">line</span><span class="p">]).</span><span class="nx">width</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">;</span>

		<span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">textAlign</span> <span class="o">===</span> <span class="s1">&#39;right&#39;</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">offsetX</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">-</span> <span class="nx">context</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="nx">line</span><span class="p">]).</span><span class="nx">width</span><span class="p">;</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">fillStyle</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span><span class="p">.</span><span class="nx">fillText</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="nx">line</span><span class="p">],</span> <span class="nx">offsetX</span><span class="p">,</span> <span class="nx">line</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span><span class="p">);</span>

		<span class="p">}</span>

		<span class="k">if</span> <span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineWidth</span><span class="p">)</span> <span class="p">{</span>

			<span class="nx">context</span><span class="p">.</span><span class="nx">strokeText</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="nx">line</span><span class="p">],</span> <span class="nx">offsetX</span><span class="p">,</span> <span class="nx">line</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span><span class="p">);</span>

		<span class="p">}</span>

	<span class="p">}</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>void</code> </p>

                </div>

                

                <div class="method scope-private">

                    <h2 id="facade.text.prototype.setmetrics"><a href="#facade.text.prototype.setmetrics" class="permalink">#</a>Facade.Text._setMetrics() <span class="label label-default">private</span></h2>

                    <p>Sets the metrics of the text based on supplied options.</p>

                    

                    <h3>Parameters</h3>

                    

                    <p>
                        <b>options</b>
                        <code>Object</code>
                        
                    </p>
                    <p>Options to set the metrics with.</p>

                    

                    <p>
                        <b>test</b>
                        <code>Boolean</code>
                        
                        <span class="label label-default">Optional</span>
                        
                    </p>
                    <p>Flag to determine if metrics are saved or not.</p>

                    

                    

                    

                    

                    

                    <h3>Examples</h3>

                    <div class="highlight"><pre><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">_setMetrics</span><span class="p">(</span><span class="nx">text</span><span class="p">.</span><span class="nx">getAllOptions</span><span class="p">()));</span>
</pre></div>


                    

                    <div class="code">

                        <h3>Code</h3>

                        <div class="highlight"><pre><span class="nx">Facade</span><span class="p">.</span><span class="nx">Text</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">_setMetrics</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">test</span><span class="p">)</span> <span class="p">{</span>

	<span class="kd">var</span> <span class="nx">metrics</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">getAllMetrics</span><span class="p">(),</span>
		<span class="nx">anchor</span><span class="p">,</span>
		<span class="nx">line</span><span class="p">,</span>
		<span class="nx">length</span><span class="p">;</span>

	<span class="nx">_context</span><span class="p">.</span><span class="nx">font</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontStyle</span> <span class="o">+</span> <span class="s1">&#39; &#39;</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontSize</span> <span class="o">+</span> <span class="s1">&#39;px &#39;</span> <span class="o">+</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontFamily</span><span class="p">;</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">isArray</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">))</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/[ ]*\n[ ]*/</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">fontSize</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">for</span> <span class="p">(</span><span class="nx">line</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nx">length</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">line</span> <span class="o">&lt;</span> <span class="nx">length</span><span class="p">;</span> <span class="nx">line</span> <span class="o">+=</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>

		<span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">max</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">width</span><span class="p">,</span> <span class="nx">_context</span><span class="p">.</span><span class="nx">measureText</span><span class="p">(</span><span class="nx">options</span><span class="p">.</span><span class="nx">value</span><span class="p">[</span><span class="nx">line</span><span class="p">]).</span><span class="nx">width</span><span class="p">);</span>

	<span class="p">}</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">width</span> <span class="o">=</span> <span class="nx">options</span><span class="p">.</span><span class="nx">width</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">height</span> <span class="o">=</span> <span class="p">(</span><span class="nx">length</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">lineHeight</span><span class="p">)</span> <span class="o">*</span> <span class="nx">options</span><span class="p">.</span><span class="nx">scale</span><span class="p">;</span>

	<span class="nx">anchor</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_getAnchorPoint</span><span class="p">(</span><span class="nx">options</span><span class="p">,</span> <span class="nx">metrics</span><span class="p">);</span>

	<span class="nx">metrics</span><span class="p">.</span><span class="nx">x</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span>
	<span class="nx">metrics</span><span class="p">.</span><span class="nx">y</span> <span class="o">=</span> <span class="nx">anchor</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>

	<span class="k">if</span> <span class="p">(</span><span class="nx">test</span> <span class="o">!==</span> <span class="kc">true</span><span class="p">)</span> <span class="p">{</span>

		<span class="k">this</span><span class="p">.</span><span class="nx">_metrics</span> <span class="o">=</span> <span class="nx">metrics</span><span class="p">;</span>

	<span class="p">}</span>

	<span class="k">return</span> <span class="nx">metrics</span><span class="p">;</span>

<span class="p">};</span>
</pre></div>


                    </div>

                    <h3>Returns</h3>

                    <p><code>Object</code> Updated metrics.</p>

                </div>

                

            </div>

        </div>

    </div>

</div>

<footer class="bs-footer">

    <div class="container">

        <p>Documentation generated with <a href="https://github.com/visionmedia/dox">dox</a> and <a href="https://github.com/neogeek/doxdox">doxdox</a>.

    </div>

</footer>



<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script>

(function () {

    var hash = window.location.hash,
        $hash_elem = $('[id="' + hash.replace(/#/, '') + '"]'),
        $code_block = $('.code'),
        $scope_private = $('.scope-private'),
        $toggle_code_blocks = $('.toggle-code-blocks')
        $toggle_private = $('.toggle-private');

    $toggle_code_blocks.on('click', function () {

        if ($toggle_code_blocks.is(':checked')) {
            $code_block.show();
        } else {
            $code_block.hide();
        }

    });

    $toggle_private.on('click', function () {

        if ($toggle_private.is(':checked')) {
            $scope_private.show();
        } else {
            $scope_private.hide();
        }

    });

    $code_block.hide();
    $scope_private.hide();

    if ($hash_elem.length && !$hash_elem.is(':visible')) {

        $toggle_private.trigger('click');

    }

}());

</script>

</body>
</html>
